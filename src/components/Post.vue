<script setup>
import { ref } from "vue";

const currentData = ref(0);
const posts = ref([
  {
    title: "First post",
    mainImage:
      "https://t3.ftcdn.net/jpg/06/37/03/56/360_F_637035669_qBx3qw4rbjCtJ2fU7OPCyEoOq0VRdOIx.jpg",
  },
  {
    title: "Second post",
    mainImage:
      "https://img.freepik.com/photos-gratuite/couleurs-vibrantes-coulent-dans-motif-vague-abstrait-genere-par-ia_188544-9781.jpg",
  },
  {
    title: "Third post",
    mainImage:
      "https://t3.ftcdn.net/jpg/05/64/82/08/360_F_564820811_n9WP1mM43pLiQwLkIA07KF9Hat5vkX2v.jpg",
  },
]);

const nextData = () => {
  currentData.value =
    currentData.value === posts.value.length - 1 ? 0 : currentData.value + 1;
};

const prevData = () => {
  currentData.value =
    currentData.value === 0 ? posts.value.length - 1 : currentData.value - 1;
};
</script>

<template>
  <div class="bg-bc-black w-full rounded-[35px] overflow-hidden">
    <!-- Upper Container -->
    <div class="w-full h-[190px]">
      <!-- Carousel Here -->
      <div
        class="relative h-full w-full flex overflow-hidden"
        v-if="posts.length"
      >
        <button
          @click="prevData"
          class="border-bc-yellow border-[1px] absolute z-10 top-1/2 left-0 ml-8 transform -translate-y-1/2 p-2 bg-bc-black-opacity rounded-full text-bc-white"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            class="h-6 w-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 19l-7-7 7-7"
            ></path>
          </svg>
        </button>
        <button
          @click="nextData"
          class="border-bc-yellow border-[1px] absolute z-10 top-1/2 right-0 mr-8 transform -translate-y-1/2 p-2 bg-bc-black-opacity rounded-full text-bc-white"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            class="h-6 w-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            ></path>
          </svg>
        </button>
        <div
          v-for="(post, index) in posts"
          :key="index"
          class="min-w-full transition-opacity duration-500"
          v-show="currentData === index"
        >
          <img
            :src="post.mainImage"
            alt="carousel"
            class="object-cover w-full"
          />
        </div>
      </div>
    </div>

    <!-- Lower Container -->
    <div class="font-bold w-full h-[333px] bg-white px-8">
      <h2 class="text-3xl text-center py-5 text-bc-white">
        {{ posts[currentData] ? posts[currentData].title : "" }}
      </h2>

      <div
        class="w-full flex items-center justify-center gap-5 font-light mb-8"
      >
        <a
          class="p-5 border-[#7f7f7f] border-[1px] rounded-[40px] text-bc-yellow"
          href="qsd"
          >3900 â‚¬</a
        >
        <a
          class="bg-bc-yellow p-5 border-text-bc-yellow border-[1px] rounded-[40px]"
          href="qsd"
          >Voir plus</a
        >
      </div>

      <div
        class="w-full h-[147px] flex flex-wrap flex-col font-light align-center text-bc-white"
      >
        <div class="w-[50%] items-center h-1/3 flex gap-2 gap-x-3">
          <svg
            width="33"
            height="32"
            viewBox="0 0 33 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M32.1642 21.2528C32.1642 25.3448 30.2756 28.9646 27.2853 31.168L26.4984 30.3811L23.1933 27.076L25.3967 24.8726L27.2853 26.7612C28.0722 25.6596 28.7017 24.2431 28.8591 22.8266H25.8688V19.679H28.8591C28.5444 18.2625 28.0722 17.0035 27.2853 15.7444L25.3967 17.633L23.1933 15.4296L25.0819 13.541C23.9802 12.7541 22.5638 12.1246 21.1473 11.9672V14.9575H17.9997V11.9672C16.5832 12.282 15.3242 12.7541 14.0651 13.541L18.7866 18.2625C19.1014 18.2625 19.2587 18.1051 19.5735 18.1051C20.4083 18.1051 21.2089 18.4368 21.7992 19.0271C22.3896 19.6174 22.7212 20.418 22.7212 21.2528C22.7212 22.0876 22.3896 22.8882 21.7992 23.4786C21.2089 24.0689 20.4083 24.4005 19.5735 24.4005C18.7387 24.4005 17.9381 24.0689 17.3478 23.4786C16.7575 22.8882 16.4258 22.0876 16.4258 21.2528C16.4258 20.938 16.4258 20.7807 16.5832 20.4659L11.8617 15.7444C11.0748 16.8461 10.4453 18.2625 10.2879 19.679H13.2782V22.8266H10.2879C10.6027 24.2431 11.0748 25.5022 11.8617 26.7612L13.7503 24.8726L15.9537 27.076L11.8617 31.168C8.87144 28.9646 6.98284 25.3448 6.98284 21.2528C6.98284 17.9136 8.30935 14.7111 10.6706 12.3499C13.0318 9.98865 16.2343 8.66214 19.5735 8.66214C22.9128 8.66214 26.1153 9.98865 28.4765 12.3499C30.8377 14.7111 32.1642 17.9136 32.1642 21.2528ZM8.08452 5.98662L2.89087 0.792969L0.6875 2.99634L5.88115 8.18999L3.83517 10.236H10.1305V3.94064L8.08452 5.98662Z"
              fill="#FFD719"
            />
          </svg>
          15646 km
        </div>
        <div class="w-[50%] items-center h-1/3 flex gap-2 gap-x-3">
          <svg
            width="29"
            height="32"
            viewBox="0 0 29 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M24 12.668C23.5524 12.668 23.1232 12.4902 22.8068 12.1737C22.4903 11.8572 22.3125 11.428 22.3125 10.9805C22.3125 10.5329 22.4903 10.1037 22.8068 9.78723C23.1232 9.47076 23.5524 9.29297 24 9.29297C24.4476 9.29297 24.8768 9.47076 25.1932 9.78723C25.5097 10.1037 25.6875 10.5329 25.6875 10.9805C25.6875 11.428 25.5097 11.8572 25.1932 12.1737C24.8768 12.4902 24.4476 12.668 24 12.668ZM13.875 12.668H3.75V4.23047H13.875M26.9869 7.99359L27.0038 7.97672L20.7262 1.69922L18.9375 3.48797L22.4981 7.04859C20.9119 7.60547 19.7812 9.17484 19.7812 10.9805C19.7812 11.5345 19.8904 12.0831 20.1024 12.5949C20.3144 13.1068 20.6251 13.5718 21.0169 13.9636C21.8081 14.7547 22.8811 15.1992 24 15.1992C24.6075 15.1992 25.1644 15.0642 25.6875 14.8448V27.0117C25.6875 27.4593 25.5097 27.8885 25.1932 28.205C24.8768 28.5214 24.4476 28.6992 24 28.6992C23.5524 28.6992 23.1232 28.5214 22.8068 28.205C22.4903 27.8885 22.3125 27.4593 22.3125 27.0117V19.418C22.3125 17.5448 20.7938 16.043 18.9375 16.043H17.25V4.23047C17.25 2.35734 15.7313 0.855469 13.875 0.855469H3.75C1.87687 0.855469 0.375 2.35734 0.375 4.23047V31.2305H17.25V18.5742H19.7812V27.0117C19.7812 28.1306 20.2257 29.2037 21.0169 29.9948C21.8081 30.786 22.8811 31.2305 24 31.2305C24.554 31.2305 25.1026 31.1213 25.6144 30.9093C26.1263 30.6973 26.5914 30.3866 26.9831 29.9948C27.3749 29.6031 27.6856 29.138 27.8976 28.6262C28.1096 28.1143 28.2188 27.5657 28.2188 27.0117V10.9805C28.2188 9.81609 27.7463 8.75297 26.9869 7.99359Z"
              fill="#FFD719"
            />
          </svg>
          Esence
        </div>
        <div class="w-[50%] items-center h-1/3 flex gap-2 gap-x-3">
          <svg
            width="34"
            height="31"
            viewBox="0 0 34 31"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M33.75 17.1055V20.4805H27.54C28.2656 18.9448 28.6875 17.2405 28.6875 15.418C28.6875 8.90422 23.3887 3.60547 16.875 3.60547H0V0.230469H16.875C25.2619 0.230469 32.0625 7.03109 32.0625 15.418C32.0625 15.9917 32.0119 16.5486 31.9613 17.1055H33.75ZM16.875 27.2305C10.3613 27.2305 5.0625 21.9317 5.0625 15.418C5.0625 13.6123 5.48438 11.8911 6.22688 10.3555H0V13.7305H1.78875C1.73812 14.2873 1.6875 14.8442 1.6875 15.418C1.6875 23.8048 8.48813 30.6055 16.875 30.6055H33.75V27.2305H16.875ZM25.0763 15.7555C23.5069 17.0042 21.465 16.2111 20.25 15.5023V15.418C24.9581 12.5661 22.5956 8.48234 22.5956 8.48234C22.5956 8.48234 20.8069 5.36047 21.2794 8.48234C21.5662 10.4736 19.845 11.8405 18.63 12.5492L18.5625 12.5155C18.4444 6.98047 13.7194 6.98047 13.7194 6.98047C13.7194 6.98047 10.125 6.98047 13.0612 8.14484C14.9344 8.88734 15.255 11.0642 15.2719 12.4648L15.1875 12.5155C10.3613 9.84922 7.99875 13.933 7.99875 13.933C7.99875 13.933 6.19312 17.0548 8.67375 15.0805C10.2431 13.8486 12.285 14.6417 13.5 15.3336V15.418C8.79188 18.2867 11.1544 22.3705 11.1544 22.3705C11.1544 22.3705 12.9431 25.4923 12.4875 22.3536C12.1837 20.3792 13.9219 19.0123 15.1369 18.2867L15.1875 18.3373C15.3056 23.8555 20.0306 23.8555 20.0306 23.8555C20.0306 23.8555 23.625 23.8555 20.6888 22.6911C18.8156 21.9486 18.495 19.7717 18.4781 18.3711L18.5625 18.3373C23.3887 21.0036 25.7513 16.903 25.7513 16.903C25.7513 16.903 27.5569 13.798 25.0763 15.7555Z"
              fill="#FFD719"
            />
          </svg>
          66 CH
        </div>
        <div class="w-[50%] items-center h-1/3 flex gap-2 gap-x-3">
          <svg
            width="28"
            height="31"
            viewBox="0 0 28 31"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7.1875 5.03672H0.4375V0.480469H7.1875V5.03672ZM0.4375 30.8555H7.1875V26.2992H0.4375V30.8555ZM17.3125 0.480469H10.5625V5.03672H17.3125V0.480469ZM10.5625 30.8555H17.3125V26.2992H10.5625V30.8555ZM20.6875 0.480469V5.03672H27.4375V0.480469H20.6875ZM22.375 14.1492H15.625V8.07422H12.25V14.1492H5.5V8.07422H2.125V23.2617H5.5V17.1867H12.25V23.2617H15.625V17.1867H25.75V8.07422H22.375V14.1492Z"
              fill="#FFD719"
            />
          </svg>
          Boite manuelle
        </div>
        <div class="w-[50%] items-center h-1/3 flex gap-2 gap-x-3">
          <svg
            width="29"
            height="31"
            viewBox="0 0 29 31"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M25.05 27.5055H3.7875V10.7992H25.05M25.05 3.20547H23.5313V0.167969H20.4938V3.20547H8.34375V0.167969H5.30625V3.20547H3.7875C2.10169 3.20547 0.75 4.57234 0.75 6.24297V27.5055C0.75 28.3111 1.07002 29.0837 1.63966 29.6533C2.2093 30.2229 2.9819 30.543 3.7875 30.543H25.05C25.8556 30.543 26.6282 30.2229 27.1978 29.6533C27.7675 29.0837 28.0875 28.3111 28.0875 27.5055V6.24297C28.0875 5.43737 27.7675 4.66477 27.1978 4.09513C26.6282 3.52549 25.8556 3.20547 25.05 3.20547ZM21.2987 15.4466L19.6888 13.8367L12.2773 21.2482L9.05756 18.0285L7.44769 19.6383L12.2773 24.468L21.2987 15.4466Z"
              fill="#FFD719"
            />
          </svg>
          2009
        </div>
      </div>
    </div>
  </div>
</template>
